-- IOTLink Compressor Manager Table Generator

CREATE TABLE TBM_COMP_AS
(
	COMP_ID               VARCHAR(20) NOT NULL,
	DUST_FILTER_CLN       VARCHAR(20) NULL,
	INHALATE_FILTER_CHG   VARCHAR(20) NULL,
	OIL_FILTER_CHG        VARCHAR(20) NULL,
	LUBRICATING_OIL_CHG   VARCHAR(20) NULL,
	COOLER_INSPECT        VARCHAR(20) NULL,
	DISASSEMBLE_INSPECT   VARCHAR(20) NULL,
	CUR_DUST_FILTER_CLN   VARCHAR(20) NULL,
	CUR_INHALATE_FILTER_CHG  VARCHAR(20) NULL,
	CUR_OIL_FILTER_CHG    VARCHAR(20) NULL,
	CUR_LUBRICATING_OIL_CHG  VARCHAR(20) NULL,
	CUR_COOLER_INSPECT    VARCHAR(20) NULL,
	CUR_DISASSEMBLE_INSPECT  VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;


ALTER TABLE TBM_COMP_AS
	ADD  PRIMARY KEY (COMP_ID)
;


CREATE TABLE TBM_COMP_SET
(
	COMP_ID               VARCHAR(20) NOT NULL,
	UNLOAD_OPER_PRESS     VARCHAR(20) NULL,
	LOAD_OPER_PRESS       VARCHAR(20) NULL,
	AUTO_STOP_DELAY_HOUR  VARCHAR(20) NULL,
	MANUAL_STOP_DELAY_HOUR  VARCHAR(20) NULL,
	START_DELAY_HOUR_SET  VARCHAR(20) NULL,
	DRAIN_OPER_HOUR       VARCHAR(20) NULL,
	DRAIN_OPER_PERIOD     VARCHAR(20) NULL,
	COOLING_FAN_START_TEMPER  VARCHAR(20) NULL,
	COOLING_FAN_STOP_TEMPER  VARCHAR(20) NULL,
	SUN_OPER_PERIOD       VARCHAR(20) NULL,
	MON_OPER_PERIOD       VARCHAR(20) NULL,
	TUE_OPER_PERIOD       VARCHAR(20) NULL,
	WED_OPER_PERIOD       VARCHAR(20) NULL,
	THU_OPER_PERIOD       VARCHAR(20) NULL,
	FRI_OPER_PERIOD       VARCHAR(20) NULL,
	SAT_OPER_PERIOD       VARCHAR(20) NULL,
	YD_TRANS_RODE_HOUR    VARCHAR(20) NULL,
	LOAD_OPER_HOUR        VARCHAR(20) NULL,
	RELOAD_OPER_DELAY     VARCHAR(20) NULL,
	DIFF_PRESS_DETECT_DELAY  VARCHAR(20) NULL,
	LOAD_OPER_MODE_SET    VARCHAR(20) NULL,
	START_MODE_SET        VARCHAR(20) NULL,
	POWER_CUT_RETURN_SET  VARCHAR(20) NULL,
	SERVER_ADDR           VARCHAR(200) NULL,
	COMM_SPEED            VARCHAR(20) NULL,
	DISCHARGE_TEMPER_ULIMIT  VARCHAR(20) NULL,
	DISCHARGE_PRESS_ULIMIT  VARCHAR(20) NULL,
	OILSKIMMER_TEMPER_ULIMIT  VARCHAR(20) NULL,
	OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	DIFF_PRESS_ULIMIT     VARCHAR(20) NULL,
	ALARM_DISCHARGE_TEMPER_ULIMIT  VARCHAR(20) NULL,
	ALARM_DISCHARGE_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_OILSKIMMER_TEMPER_ULIMIT  VARCHAR(20) NULL,
	ALARM_OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_DIFF_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_OUT_TEMPER_ULIMIT  VARCHAR(20) NULL,
	OPER_DISCHARGE_TEMPER_LLIMIT  VARCHAR(20) NULL,
	OPER_OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;



ALTER TABLE TBM_COMP_SET
	ADD  PRIMARY KEY (COMP_ID)
;



CREATE TABLE TBM_COMP_STATUS
(
	COMP_ID               VARCHAR(20) NOT NULL,
	OUT_TEMPER            VARCHAR(20) NULL,
	OILSKIMMER_PRESS      VARCHAR(20) NULL,
	OILSKIMMER_TEMPER     VARCHAR(20) NULL,
	OILSKIMMER_DIFF_PRESS  VARCHAR(20) NULL,
	TOT_OPER_HOUR         VARCHAR(20) NULL,
	MOTOR_OPER_HOUR       VARCHAR(20) NULL,
	MOTOR_OPER_CNT        VARCHAR(20) NULL,
	LOAD_OPER_HOUR        VARCHAR(20) NULL,
	LOAD_OPER_CNT         VARCHAR(20) NULL,
	INVERTER_CNTL_OUTPUT  VARCHAR(20) NULL,
	DISCHARGE_PRESS_TRANS  VARCHAR(20) NULL,
	DISCHARGE_TEMPER_TRANS  VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	DISCHARGE_TEMPER      VARCHAR(20) NULL,
	DISCHARGE_PRESS       VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL,
	ALARM_1               VARCHAR(20) NULL,
	ALARM_2               VARCHAR(20) NULL,
	ALARM_3               VARCHAR(20) NULL
)
;



ALTER TABLE TBM_COMP_STATUS
	ADD  PRIMARY KEY (COMP_ID)
;



CREATE TABLE TBM_COMPRESSOR
(
	COMP_ID               VARCHAR(20) NULL,
	MODEL_NAME            VARCHAR(200) NULL,
	PRODUCT_NUMBER        VARCHAR(200) NULL,
	DEALER_ID             VARCHAR(20) NULL,
	CONSUMER_ID           VARCHAR(20) NULL,
	BARCODE               VARCHAR(20) NULL,
	AFTER_SERVICE_PERIOD  VARCHAR(20) NULL,
	STATUS                VARCHAR(20) NULL,
	PUBLISH_TIME          VARCHAR(20) NULL,
	START_USING_TIME      VARCHAR(20) NULL,
	CREATE_USER           VARCHAR(20) NULL,
	UPDATE_USER           VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	REGIST_YN             VARCHAR(20) NULL,
	REGIST_TIME           VARCHAR(20) NULL,
	MOBILE_PHONE_NO       VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;



ALTER TABLE TBM_COMPRESSOR
	ADD  PRIMARY KEY (COMP_ID)
;



CREATE TABLE TBM_CONSUMER
(
	CONSUMER_ID           VARCHAR(20) NULL,
	COMPANY_NAME          VARCHAR(20) NULL,
	BUSINESS_NO           VARCHAR(20) NULL,
	COMPANY_NO            VARCHAR(20) NULL,
	CREATE_USER           VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	UPDATE_USER           VARCHAR(20) NULL
)
;



ALTER TABLE TBM_CONSUMER
	ADD  PRIMARY KEY (CONSUMER_ID)
;



CREATE TABLE TBM_DEALER
(
	DEALER_ID             VARCHAR(20) NULL,
	COMPANY_NO            VARCHAR(20) NULL,
	COMPANY_NAME          VARCHAR(20) NULL,
	BUSINESS_NO           VARCHAR(20) NULL
)
;



ALTER TABLE TBM_DEALER
	ADD  PRIMARY KEY (DEALER_ID)
;



CREATE TABLE TBM_USER
(
	USER_ID               VARCHAR(20) NULL,
	PASSWORD              VARCHAR(20) NULL,
	USER_NAME             VARCHAR(20) NULL,
	USER_TEL              VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	USER_DESC             VARCHAR(20) NULL
)
;



ALTER TABLE TBM_USER
	ADD  PRIMARY KEY (USER_ID)
;



CREATE TABLE TBP_COMP_AS
(
	COMP_ID               VARCHAR(20) NULL,
	DUST_FILTER_CLN       VARCHAR(20) NULL,
	INHALATE_FILTER_CHG   VARCHAR(20) NULL,
	OIL_FILTER_CHG        VARCHAR(20) NULL,
	LUBRICATING_OIL_CHG   VARCHAR(20) NULL,
	COOLER_INSPECT        VARCHAR(20) NULL,
	DISASSEMBLE_INSPECT   VARCHAR(20) NULL,
	CUR_DUST_FILTER_CLN   VARCHAR(20) NULL,
	CUR_INHALATE_FILTER_CHG  VARCHAR(20) NULL,
	CUR_OIL_FILTER_CHG    VARCHAR(20) NULL,
	CUR_LUBRICATING_OIL_CHG  VARCHAR(20) NULL,
	CUR_COOLER_INSPECT    VARCHAR(20) NULL,
	CUR_DISASSEMBLE_INSPECT  VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;



ALTER TABLE TBP_COMP_AS
	ADD  PRIMARY KEY (COMP_ID,SAVE_TIME_STR)
;



CREATE TABLE TBP_COMP_SET
(
	COMP_ID               VARCHAR(20) NULL,
	UNLOAD_OPER_PRESS     VARCHAR(20) NULL,
	LOAD_OPER_PRESS       VARCHAR(20) NULL,
	AUTO_STOP_DELAY_HOUR  VARCHAR(20) NULL,
	MANUAL_STOP_DELAY_HOUR  VARCHAR(20) NULL,
	START_DELAY_HOUR_SET  VARCHAR(20) NULL,
	DRAIN_OPER_HOUR       VARCHAR(20) NULL,
	DRAIN_OPER_PERIOD     VARCHAR(20) NULL,
	COOLING_FAN_START_TEMPER  VARCHAR(20) NULL,
	COOLING_FAN_STOP_TEMPER  VARCHAR(20) NULL,
	SUN_OPER_PERIOD       VARCHAR(20) NULL,
	MON_OPER_PERIOD       VARCHAR(20) NULL,
	TUE_OPER_PERIOD       VARCHAR(20) NULL,
	WED_OPER_PERIOD       VARCHAR(20) NULL,
	THU_OPER_PERIOD       VARCHAR(20) NULL,
	FRI_OPER_PERIOD       VARCHAR(20) NULL,
	SAT_OPER_PERIOD       VARCHAR(20) NULL,
	YD_TRANS_RODE_HOUR    VARCHAR(20) NULL,
	LOAD_OPER_HOUR        VARCHAR(20) NULL,
	RELOAD_OPER_DELAY     VARCHAR(20) NULL,
	DIFF_PRESS_DETECT_DELAY  VARCHAR(20) NULL,
	LOAD_OPER_MODE_SET    VARCHAR(20) NULL,
	START_MODE_SET        VARCHAR(20) NULL,
	POWER_CUT_RETURN_SET  VARCHAR(20) NULL,
	SERVER_ADDR           VARCHAR(200) NULL,
	COMM_SPEED            VARCHAR(20) NULL,
	DISCHARGE_TEMPER_ULIMIT  VARCHAR(20) NULL,
	DISCHARGE_PRESS_ULIMIT  VARCHAR(20) NULL,
	OILSKIMMER_TEMPER_ULIMIT  VARCHAR(20) NULL,
	OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	DIFF_PRESS_ULIMIT     VARCHAR(20) NULL,
	ALARM_DISCHARGE_TEMPER_ULIMIT  VARCHAR(20) NULL,
	ALARM_DISCHARGE_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_OILSKIMMER_TEMPER_ULIMIT  VARCHAR(20) NULL,
	ALARM_OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_DIFF_PRESS_ULIMIT  VARCHAR(20) NULL,
	ALARM_OUT_TEMPER_ULIMIT  VARCHAR(20) NULL,
	OPER_DISCHARGE_TEMPER_LLIMIT  VARCHAR(20) NULL,
	OPER_OILSKIMMER_PRESS_ULIMIT  VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;



ALTER TABLE TBP_COMP_SET
	ADD  PRIMARY KEY (COMP_ID,SAVE_TIME_STR)
;



CREATE TABLE TBP_COMP_STATUS
(
	COMP_ID               VARCHAR(20) NULL,
	OUT_TEMPER            VARCHAR(20) NULL,
	OILSKIMMER_PRESS      VARCHAR(20) NULL,
	OILSKIMMER_TEMPER     VARCHAR(20) NULL,
	OILSKIMMER_DIFF_PRESS  VARCHAR(20) NULL,
	TOT_OPER_HOUR         VARCHAR(20) NULL,
	MOTOR_OPER_HOUR       VARCHAR(20) NULL,
	MOTOR_OPER_CNT        VARCHAR(20) NULL,
	LOAD_OPER_HOUR        VARCHAR(20) NULL,
	LOAD_OPER_CNT         VARCHAR(20) NULL,
	INVERTER_CNTL_OUTPUT  VARCHAR(20) NULL,
	DISCHARGE_PRESS_TRANS  VARCHAR(20) NULL,
	DISCHARGE_TEMPER_TRANS  VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	DISCHARGE_TEMPER      VARCHAR(20) NULL,
	DISCHARGE_PRESS       VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL,
	ALARM_1               VARCHAR(20) NULL,
	ALARM_2               VARCHAR(20) NULL,
	ALARM_3               VARCHAR(20) NULL
)
;



ALTER TABLE TBP_COMP_STATUS
	ADD  PRIMARY KEY (COMP_ID,SAVE_TIME_STR)
;



CREATE TABLE TBP_COMPRESSOR
(
	COMP_ID               VARCHAR(20) NULL,
	MODEL_NAME            VARCHAR(200) NULL,
	PRODUCT_NUMBER        VARCHAR(200) NULL,
	DEALER_ID             VARCHAR(20) NULL,
	CONSUMER_ID           VARCHAR(20) NULL,
	BARCODE               VARCHAR(20) NULL,
	AFTER_SERVICE_PERIOD  VARCHAR(20) NULL,
	STATUS                VARCHAR(20) NULL,
	PUBLISH_TIME          VARCHAR(20) NULL,
	START_USING_TIME      VARCHAR(20) NULL,
	CREATE_USER           VARCHAR(20) NULL,
	UPDATE_USER           VARCHAR(20) NULL,
	CREATE_TIME           VARCHAR(20) NULL,
	UPDATE_TIME           VARCHAR(20) NULL,
	REGIST_YN             VARCHAR(20) NULL,
	REGIST_TIME           VARCHAR(20) NULL,
	MOBILE_PHONE_NO       VARCHAR(20) NULL,
	SAVE_TIME_STR         VARCHAR(20) NULL
)
;



ALTER TABLE TBP_COMPRESSOR
	ADD  PRIMARY KEY (COMP_ID,SAVE_TIME_STR)
;



ALTER TABLE TBM_COMP_AS
	ADD FOREIGN KEY FK_COMPID_COMPAS (COMP_ID) REFERENCES TBM_COMPRESSOR(COMP_ID)
;



ALTER TABLE TBM_COMP_SET
	ADD FOREIGN KEY FK_COMPID_COMPSET (COMP_ID) REFERENCES TBM_COMPRESSOR(COMP_ID)
;



ALTER TABLE TBM_COMP_STATUS
	ADD FOREIGN KEY FK_COMPID_COMPSTATUS (COMP_ID) REFERENCES TBM_COMPRESSOR(COMP_ID)
;



ALTER TABLE TBM_COMPRESSOR
	ADD FOREIGN KEY FK_CONSUMERID_COMP (CONSUMER_ID) REFERENCES TBM_CONSUMER(CONSUMER_ID)
;


ALTER TABLE TBM_COMPRESSOR
	ADD FOREIGN KEY FK_DEALERID_COMP (DEALER_ID) REFERENCES TBM_DEALER(DEALER_ID)
;


